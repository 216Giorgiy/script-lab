/*! v.Add-in Playground 1.0.0.1481778963300 Â© Microsoft */
webpackJsonp([0],{0:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t)).next())})},s=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=o[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return{next:verb(0),throw:verb(1),return:verb(2)}},a=n(1),c=n(19),u=n(22),p=n(20),l=n(26),f=n(28),d=n(29),h=n(410),y=n(32),_=n(412),g=n(430),m=n(416),v=n(443),b=n(440),S=n(432),E=n(444),A=n(84);n(457),n(459);var T=O=function(){function AppModule(){}return AppModule.start=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),"PRODUCTION"===A.Config.env&&a.enableProdMode(),[4,Promise.all([d.MonacoService.initialize(),O.initialize()])];case 1:return t.sent(),[4,y.Theme.applyTheme()];case 2:return t.sent(),f.Authenticator.isAuthDialog()||l.platformBrowserDynamic().bootstrapModule(O),[3,4];case 3:return e=t.sent(),f.Utilities.log(e),[3,4];case 4:return[2]}})})},AppModule.initialize=function(){return new Promise(function(e){var t=location.href.indexOf("mode=web")===-1;return t?void(Office.initialize=function(t){return e(!0)}):e(t)})},AppModule}();T=O=o([a.NgModule({imports:[p.BrowserModule,c.HttpModule,u.FormsModule,_.APP_ROUTES,m.StoreModule.provideStore(S.rootReducer),v.StoreDevtoolsModule.instrumentOnlyWithExtension(),b.EffectsModule.run(E.SnippetEffects),b.EffectsModule.run(E.MonacoEffects),b.EffectsModule.run(E.GitHubEffects),b.EffectsModule.run(E.UIEffects)],declarations:[g.AppComponent].concat(_.COMPONENT_DECLARATIONS,h.PIPES),bootstrap:[g.AppComponent],providers:d.SERVICE_PROVIDERS.concat([y.EXCEPTION_PROVIDER])}),r("design:paramtypes",[])],T),t.AppModule=T,T.start();var O},29:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var o=n(30),r=n(31),i=n(85);__export(n(30)),__export(n(31)),__export(n(85)),__export(n(86)),t.SERVICE_PROVIDERS=[r.Request,i.MonacoService,o.GitHubService]},30:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t)).next())})},s=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=o[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return{next:verb(0),throw:verb(1),return:verb(2)}},a=n(1),c=n(28),u=n(31),p=n(84),l=n(47),f=function(){function GitHubService(e){this._request=e,this._baseUrl="https://api.github.com",this._profileStorage=new c.Storage("Profile"),this._authenticator=new c.Authenticator,this._authenticator.endpoints.add("GitHub",{clientId:p.Config.constants.GITHUB_AUTH_CLIENT_ID,baseUrl:"https://github.com/login",authorizeUrl:"/oauth/authorize",tokenUrl:p.Config.constants.GITHUB_TOKEN_SERVICE_URL,scope:"gist",state:!0}),this._token=this._authenticator.tokens.get("GitHub"),this._setDefaultHeaders(this._token)}return GitHubService.prototype.user=function(){return this._request.get(this._baseUrl+"/user",u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.orgs=function(e){return this._request.get(this._baseUrl+"/users/"+e+"/orgs",u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.repos=function(e,t,n){void 0===n&&(n=0);var o=t?this._baseUrl+"/user/repos?page="+n+"&affiliation=owner,collaborator&sort=updated&direction=desc":this._baseUrl+"/orgs/"+e+"/repos?page="+n;return this._request.get(o,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.files=function(e,t,n,o){var r=this._baseUrl+"/repos/"+e+"}/"+t+"/contents";return null!=o&&(r+="/"+o),this._request.get(r+("?ref="+n),u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.branches=function(e,t){return this._request.get(this._baseUrl+"/repos/"+e+"/"+t+"/branches",u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.file=function(e,t,n,o){return this._request.get(this._baseUrl+"/repos/"+e+"/"+t+"/contents/"+o+"?ref="+n,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.commits=function(e,t,n,o){return this._request.get(this._baseUrl+"/repos/"+e+"/"+t+"/commits?path="+o+"&sha="+n+"&until="+(new Date).toISOString(),u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.getSha=function(e,t,n,o){var r=this._baseUrl+"/repos/"+e+"/"+t+"/contents";return null!=o&&(r+="/"+o),this._request.get(r+("?ref="+n),u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.createOrUpdate=function(e,t,n,o){return this._request.put(this._baseUrl+"/repos/"+e+"/"+t+"/contents/"+n,o,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.login=function(){return i(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return e=this,[4,this._authenticator.authenticate("GitHub")];case 1:return e._token=n.sent(),this._setDefaultHeaders(this._token),t=this,[4,this.user().toPromise()];case 2:return t.profile=n.sent(),[2,this.profile]}})})},GitHubService.prototype.logout=function(){this._authenticator.tokens.clear(),this._profileStorage.clear()},GitHubService.prototype.gists=function(e){var t=null==e?this._baseUrl+"/gists":this._baseUrl+"/users/"+e+"/gists";return this._request.get(t,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.gist=function(e,t){var n=this._baseUrl+"/gists/"+e;return null!=t&&(n+="/"+t),this._request.get(n,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.createOrUpdateGist=function(e,t,n,o){void 0===o&&(o=!0);var r={description:e,public:o,files:t},i=this._baseUrl+"/gists";return null!=n?(i+="/"+n,this._request.patch(i,r,u.ResponseTypes.JSON,this._headers)):this._request.post(i,r,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.forkGist=function(e){return this._request.post(this._baseUrl+"/gists/"+e+"/forks",void 0,u.ResponseTypes.JSON,this._headers)},GitHubService.prototype.deleteGist=function(e){return this._request.delete(this._baseUrl+"/gists/"+e,u.ResponseTypes.JSON,this._headers)},Object.defineProperty(GitHubService.prototype,"profile",{get:function(){return null==this._profile&&(this._profile=l.first(this._profileStorage.values())),this._profile},set:function(e){null!=e&&(this._profile=e,this._profileStorage.insert(this._profile.login,this.profile))},enumerable:!0,configurable:!0}),GitHubService.prototype._setDefaultHeaders=function(e){this._headers={"Content-Type":"application/json"},null!=e&&(this._headers.Authorization="Bearer "+e.access_token)},GitHubService}();f=o([a.Injectable(),r("design:paramtypes",[u.Request])],f),t.GitHubService=f},31:function(e,t,n){"use strict";var o,r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(1),a=n(19),c=n(32),u=n(47),p=n(49);!function(e){e[e.YAML=0]="YAML",e[e.JSON=1]="JSON",e[e.TEXT=2]="TEXT",e[e.BLOB=3]="BLOB"}(o=t.ResponseTypes||(t.ResponseTypes={}));var l=function(){function Request(e){this._http=e}return Request.prototype.url=function(e,t){return u.forEach(t,function(t,n){e=e.replace(new RegExp("{"+n+"}","g"),t)}),e},Request.prototype.local=function(e,t){var n=this._http.get("assets/"+e).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(n,t)},Request.prototype.get=function(e,t,n){var o=this._generateHeaders(n),r=this._http.get(e,o).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(r,t)},Request.prototype.post=function(e,t,n,o,r){var i=this._generateHeaders(o),s=this._http.post(e,t,i).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(s,n)},Request.prototype.put=function(e,t,n,o,r){var i=this._generateHeaders(o),s=this._http.put(e,t,i).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(s,n)},Request.prototype.patch=function(e,t,n,o,r){var i=this._generateHeaders(o),s=this._http.patch(e,t,i).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(s,n)},Request.prototype.delete=function(e,t,n){var o=this._generateHeaders(n),r=this._http.delete(e,o).retryWhen(function(e){return e.delay(500)}).timeout(2e3,new c.PlaygroundError("Request failed: "+e));return this._response(r,t)},Request.prototype._generateHeaders=function(e){var t=u.extend({},e),n=new a.Headers(t);return new a.RequestOptions({headers:n})},Request.prototype._response=function(e,t){return e.map(function(e){switch(t){case o.YAML:return p.safeLoad(e.text());case o.JSON:return e.json();case o.BLOB:return e.blob();case o.TEXT:default:return e.text()}})},Request}();l=r([s.Injectable(),i("design:paramtypes",[a.Http])],l),t.Request=l},32:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(33)),__export(n(34)),__export(n(35))},33:function(e,t,n){"use strict";function type(e){if(r.contains(e))throw new Error('Action type "'+e+'" is not unqiue"');return r.add(e,!0),e}function updateState(e){var t=_.assign({},e);return function assign(e){return 0===arguments.length?t:_.isObject(e)?_.assign({},t,e):assign}}var o=n(28),r=new o.Dictionary;t.type=type,t.updateState=updateState;var i=function(){function Utilities(){}return Utilities.storageSize=function(e,t){if(null!=e){if(t){var n=2*(e[t].length+t.length);return t.substr(0,50)+"  = "+(n/1024).toFixed(2)+" kB"}var o=Object.keys(e).reduce(function(t,n){var o=2*(e[n].length+n.length);return console.log(n.substr(0,50)+"  = "+(o/1024).toFixed(2)+" kB"),t+o},0);return"Total = "+(o/1024).toFixed(2)+" KB"}},Utilities}();t.Utilities=i},34:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=n(1),i=n(28),s=function(e){function PlaygroundError(t,n){var o=e.call(this,t)||this;if(o.innerError=n,o.name="Playground Error",o.message=t,Error.captureStackTrace)Error.captureStackTrace(o,o.constructor);else{var r=new Error;if(r.stack){var i=r.stack.match(/[^\s]+$/);o.stack=o.name+" at "+i}}return o}return o(PlaygroundError,e),PlaygroundError}(Error);t.PlaygroundError=s;var a=function(){function ExceptionHandler(){}return ExceptionHandler.prototype.handleError=function(e,t,n){i.Utilities.log(e)},ExceptionHandler}();t.ExceptionHandler=a,t.EXCEPTION_PROVIDER={provide:r.ErrorHandler,useClass:a}},35:function(e,t,n){"use strict";var o=n(28),r=function(){function Theme(){}return Theme.applyTheme=function(){return new Promise(function(e){switch(o.Utilities.host){case o.HostTypes.EXCEL:n.e(1,function(t){var n=[t(36)];(function(t){return e(!0)}).apply(null,n)});break;case o.HostTypes.WORD:n.e(2,function(t){var n=[t(39)];(function(t){return e(!0)}).apply(null,n)});break;case o.HostTypes.POWERPOINT:n.e(3,function(t){var n=[t(41)];(function(t){return e(!0)}).apply(null,n)});break;case o.HostTypes.ONENOTE:n.e(4,function(t){var n=[t(43)];(function(t){return e(!0)}).apply(null,n)});break;case o.HostTypes.WEB:default:n.e(5,function(t){var n=[t(45)];(function(t){return e(!0)}).apply(null,n)})}})},Theme}();t.Theme=r},84:function(e,t,n){"use strict";t.Config={env:"DEVELOPMENT",build:{name:"Add-in Playground",version:"1.0.0",build:1481778963300,author:"Microsoft",full_version:"1.0.0.1481778963300"},constants:{GITHUB_TOKEN_SERVICE_URL:"https://addin-playground-runner.azurewebsites.net/auth/prod",GITHUB_AUTH_CLIENT_ID:"b05714a22e602446c43a"}};var o="....###....########..########..........####.##....##....########..##..........###....##....##..######...########...#######..##.....##.##....##.########.\n...##.##...##.....##.##.....##..........##..###...##....##.....##.##.........##.##....##..##..##....##..##.....##.##.....##.##.....##.###...##.##.....##\n..##...##..##.....##.##.....##..........##..####..##....##.....##.##........##...##....####...##........##.....##.##.....##.##.....##.####..##.##.....##\n.##.....##.##.....##.##.....##.#######..##..##.##.##....########..##.......##.....##....##....##...####.########..##.....##.##.....##.##.##.##.##.....##\n.#########.##.....##.##.....##..........##..##..####....##........##.......#########....##....##....##..##...##...##.....##.##.....##.##..####.##.....##\n.##.....##.##.....##.##.....##..........##..##...###....##........##.......##.....##....##....##....##..##....##..##.....##.##.....##.##...###.##.....##\n.##.....##.########..########..........####.##....##....##........########.##.....##....##.....######...##.....##..#######...#######..##....##.########.";console.groupCollapsed("About"),console.log(o),console.log(t.Config),console.groupEnd()},85:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t)).next())})},a=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=o[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return{next:verb(0),throw:verb(1),return:verb(2)}},c=n(1),u=n(31),p=n(86),l=n(84),f={STARTS_WITH_TYPINGS:/^.types~.+|^dt~.+/i,STARTS_WITH_COMMENT:/^\/\/.*|^\/\*.*|.*\*\/$.*/im,ENDS_WITH_DTS:/.*\.d\.ts$/i,GLOBAL:/.*/i},d=h=function(e){function MonacoService(t){var n=e.call(this)||this;return n._request=t,n._intellisenseFile=n._request.local("libraries.json",u.ResponseTypes.JSON),n._defaults={value:"",language:"text",lineNumbers:!0,roundedSelection:!1,scrollBeyondLastLine:!1,formatOnType:!0,fontSize:14,wrappingColumn:0,theme:"vs",wrappingIndent:"indent",scrollbar:{vertical:"visible",verticalHasArrows:!0,arrowSize:15}},n._registerLanguageServices(),n}return o(MonacoService,e),Object.defineProperty(MonacoService.prototype,"typings",{get:function(){return null==this._typings&&(this._typings=this._intellisenseFile.toPromise().then(function(e){return e.filter(function(e){var t=e.typings;return!_.isEmpty(t)}).map(function(e){var t=e.typings,n=e.documentation;return{label:t,documentation:n,kind:monaco.languages.CompletionItemKind.Module,insertText:t+"\n"}})})),this._typings},enumerable:!0,configurable:!0}),Object.defineProperty(MonacoService.prototype,"libraries",{get:function(){return null==this._libraries&&(this._libraries=this._intellisenseFile.toPromise().then(function(e){return e.filter(function(e){var t=e.label;return!_.isEmpty(t)}).map(function(e){var t=e.label,n=e.documentation;return{label:t,documentation:n,kind:monaco.languages.CompletionItemKind.Property,insertText:t+"\n"}})})),this._libraries},enumerable:!0,configurable:!0}),MonacoService.prototype.create=function(e,t){return s(this,void 0,void 0,function(){var n,o;return a(this,function(r){switch(r.label){case 0:return n=_.extend({},this._defaults,t),[4,h.current];case 1:return o=r.sent(),[2,o.editor.create(e.nativeElement,n)]}})})},MonacoService.prototype.updateOptions=function(e,t){if(null!=e&&null!=t){var n=_.extend({},this._defaults,t);e.updateOptions(n)}},MonacoService.initialize=function(){return null==h.current&&(h.current=h._loadMonaco()),h.current},MonacoService._loadMonaco=function(){return new Promise(function(e,t){try{var n=performance.now(),o=window.require;if(o){var r="monaco-editor/min/vs";"PRODUCTION"===l.Config.env&&(console.log("Using Monaco from CDN"),window.MonacoEnvironment={getWorkerUrl:function(){return location.origin+"assets/monaco-editor-worker-loader-proxy.js"}},r=location.origin+"/monaco-editor/min/vs");var i={paths:{vs:r}};console.log("Loading monaco"),o.config(i),o(["vs/editor/editor.main"],function(){var t=performance.now();console.log("Monco loaded in "+(t-n)/1e3+"s"),e(monaco)})}}catch(e){t(e)}})},MonacoService.prototype._registerLanguageServices=function(){return s(this,void 0,void 0,function(){var e,t=this;return a(this,function(n){switch(n.label){case 0:return[4,h.current];case 1:return e=n.sent(),e.languages.register({id:"libraries"}),e.languages.setMonarchTokensProvider("libraries",{tokenizer:{root:[[f.STARTS_WITH_COMMENT,"comment"],[f.STARTS_WITH_TYPINGS,"string"],[f.ENDS_WITH_DTS,"string"],[f.GLOBAL,"keyword"]]},tokenPostfix:""}),e.languages.registerCompletionItemProvider("libraries",{provideCompletionItems:function(e,n){var o=e.getValueInRange({startLineNumber:n.lineNumber,startColumn:1,endLineNumber:n.lineNumber,endColumn:n.column});return f.STARTS_WITH_TYPINGS.test(o)?t.typings:f.GLOBAL.test(o)?t.libraries:[]}}),e.languages.typescript.typescriptDefaults.compilerOptions={module:e.languages.typescript.ModuleKind.CommonJS,moduleResolution:e.languages.typescript.ModuleResolutionKind.NodeJs},[2,e]}})})},MonacoService}(p.Disposable);d=h=r([c.Injectable(),i("design:paramtypes",[u.Request])],d),t.MonacoService=d;var h},86:function(e,t,n){"use strict";var o=n(87),r=function(){function Disposable(){this._subscriptions=[]}return Disposable.prototype.markDispose=function(e){Array.isArray(e)?this._subscriptions=this._subscriptions.concat(e):e instanceof o.Subscription&&this._subscriptions.push(e)},Disposable.prototype.ngOnDestroy=function(){_.each(this._subscriptions,function(e){e.closed||e.unsubscribe()}),this._subscriptions=[]},Disposable}();t.Disposable=r},410:function(e,t,n){"use strict";var o=n(411);t.KeysPipe=o.KeysPipe,t.PIPES=[o.KeysPipe]},411:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function KeysPipe(){}return KeysPipe.prototype.transform=function(e,t){return null==e?[]:_.map(e,function(e,t){return{key:t,value:e}})},KeysPipe}();s=o([i.Pipe({name:"keys"}),r("design:paramtypes",[])],s),t.KeysPipe=s},412:function(e,t,n){"use strict";var o=n(413),r=n(414),i=n(430);t.COMPONENT_DECLARATIONS=[i.GalleryView,i.GalleryList,i.Editor,r.Hamburger,r.Collapse,r.Alert,r.Profile,r.Dialog,r.SnippetInfo,r.About,r.Command],t.AppRoutes=[{path:"",component:i.Editor},{path:":source/:id",component:i.Editor}],t.APP_ROUTES=o.RouterModule.forRoot(t.AppRoutes,{useHash:!0})},414:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(415)),__export(n(423)),__export(n(424)),__export(n(425)),__export(n(426)),__export(n(427)),__export(n(428)),__export(n(429))},415:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(416),a=n(418),c=function(){function Alert(e){this._store=e}return Alert.prototype.dismiss=function(e){this._store.dispatch(new a.UI.DismissAlertAction(e))},Alert}();o([i.Input("show"),r("design:type",Object)],c.prototype,"dialog",void 0),c=o([i.Component({selector:"alert",template:'\n        <dialog [title]="dialog?.title" [show]="!(dialog==null)">\n            <div class="ms-Dialog-content">\n                <pre class="ms-Dialog-subText">{{ dialog?.message }}</pre>\n            </div>\n            <div class="ms-Dialog-actions">\n                <div class="ms-Dialog-actionsRight">\n                    <button *ngFor="let action of dialog?.actions" class="ms-Dialog-action ms-Button" (click)="dismiss(action)">\n                        <i class="ms-Icon" [hidden]="!(action?.icon)" [ngClass]="\'ms-Icon--\'+action?.icon"></i>\n                        <span class="ms-Button-label">{{action.name}}</span>\n                    </button>\n                </div>\n            </div>\n        </dialog>\n    '}),r("design:paramtypes",[s.Store])],c),t.Alert=c},416:function(e,t,n){!function(e,o){o(t,n(309),n(1),n(417),n(3),n(395),n(329),n(124),n(187))}(this,function(e,t,n,o,r,i,s,a,c){"use strict";function combineReducers(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];"function"==typeof e[r]&&(n[r]=e[r])}var i=Object.keys(n);return function(e,t){void 0===e&&(e={});for(var o=!1,r={},s=0;s<i.length;s++){var a=i[s],c=n[a],u=e[a],p=c(u,t);r[a]=p,o=o||p!==u}return o?r:e}}function _initialReducerFactory(e){return"function"==typeof e?e:combineReducers(e)}function _initialStateFactory(e,t){return e?e:t(void 0,{type:p.INIT})}function _storeFactory(e,t,n){return new h(e,t,n)}function _stateFactory(e,t,n){return new _(e,t,n)}function _reducerFactory(e,t){return new f(e,t)}function provideStore(e,t){return[p,{provide:h,useFactory:_storeFactory,deps:[p,f,_]},{provide:f,useFactory:_reducerFactory,deps:[p,g]},{provide:_,useFactory:_stateFactory,deps:[m,p,f]},{provide:g,useFactory:_initialReducerFactory,deps:[v]},{provide:m,useFactory:_initialStateFactory,deps:[b,g]},{provide:b,useValue:t},{provide:v,useValue:e}]}var u=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},p=function(e){function Dispatcher(){e.call(this,{type:Dispatcher.INIT})}return u(Dispatcher,e),Dispatcher.prototype.dispatch=function(e){this.next(e)},Dispatcher.prototype.complete=function(){},Dispatcher.INIT="@ngrx/store/init",Dispatcher}(t.BehaviorSubject),l=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},f=function(e){function Reducer(t,n){e.call(this,n),this._dispatcher=t}return l(Reducer,e),Reducer.prototype.replaceReducer=function(e){this.next(e)},Reducer.prototype.next=function(t){e.prototype.next.call(this,t),this._dispatcher.dispatch({type:Reducer.REPLACE})},Reducer.REPLACE="@ngrx/store/replace-reducer",Reducer}(t.BehaviorSubject),d=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},h=function(e){function Store(t,n,r){e.call(this),this._dispatcher=t,this._reducer=n,this.select=o.select.bind(this),this.source=r}return d(Store,e),Store.prototype.lift=function(e){var t=new Store(this._dispatcher,this._reducer,this);return t.operator=e,t},Store.prototype.replaceReducer=function(e){this._reducer.next(e)},Store.prototype.dispatch=function(e){this._dispatcher.next(e)},Store.prototype.next=function(e){this._dispatcher.next(e)},Store.prototype.error=function(e){this._dispatcher.error(e)},Store.prototype.complete=function(){},Store}(r.Observable),y=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},_=function(e){function State(t,n,o){var r=this;e.call(this,t);var u=a.observeOn.call(n,c.queue),p=i.withLatestFrom.call(u,o),l=s.scan.call(p,function(e,t){var n=t[0],o=t[1];return o(e,n)},t);l.subscribe(function(e){return r.next(e)})}return y(State,e),State}(t.BehaviorSubject),g=new n.OpaqueToken("Token ngrx/store/reducer"),m=new n.OpaqueToken("Token ngrx/store/initial-state"),v=new n.OpaqueToken("Token _ngrx/store/reducer"),b=new n.OpaqueToken("Token _ngrx/store/initial-state"),S=function(){function StoreModule(){}return StoreModule.provideStore=function(e,t){return{ngModule:StoreModule,providers:provideStore(e,t)}},StoreModule.decorators=[{type:n.NgModule,args:[{}]}],StoreModule.ctorParameters=[],StoreModule}();e.Dispatcher=p,e.INITIAL_REDUCER=g,e.INITIAL_STATE=m,e._INITIAL_REDUCER=v,e._INITIAL_STATE=b,e._initialReducerFactory=_initialReducerFactory,e._initialStateFactory=_initialStateFactory,e._storeFactory=_storeFactory,e._stateFactory=_stateFactory,e._reducerFactory=_reducerFactory,e.provideStore=provideStore,e.StoreModule=S,e.Reducer=f,e.State=_,e.Store=h,e.combineReducers=combineReducers,Object.defineProperty(e,"__esModule",{value:!0})})},417:function(e,t,n){!function(e,o){o(t,n(6),n(304),n(182),n(233))}(this,function(e,t,n,o,r){"use strict";function enterZone(e){return this.lift(new s(e))}function leaveZone(e){return this.lift(new u(e))}function select(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s;if("string"==typeof e)s=n.pluck.call.apply(n.pluck,[this,e].concat(t));else{if("function"!=typeof e)throw new TypeError("Unexpected type "+typeof e+" in select operator, expected 'string' or 'function'");s=o.map.call(this,e)}return r.distinctUntilChanged.call(s)}var i=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},s=function(){function EnterZoneOperator(e){this._zone=e}return EnterZoneOperator.prototype.call=function(e,t){return t._subscribe(new a(e,this._zone))},EnterZoneOperator}(),a=function(e){function EnterZoneSubscriber(t,n){e.call(this,t),this._zone=n}return i(EnterZoneSubscriber,e),EnterZoneSubscriber.prototype._next=function(e){var t=this;this._zone.run(function(){return t.destination.next(e)})},EnterZoneSubscriber}(t.Subscriber),c=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},u=function(){function LeaveZoneOperator(e){this._zone=e}return LeaveZoneOperator.prototype.call=function(e,t){return t._subscribe(new p(e,this._zone))},LeaveZoneOperator}(),p=function(e){function LeaveZoneSubscriber(t,n){e.call(this,t),this._zone=n}return c(LeaveZoneSubscriber,e),LeaveZoneSubscriber.prototype._next=function(e){var t=this;this._zone.runOutsideAngular(function(){return t.destination.next(e)})},LeaveZoneSubscriber}(t.Subscriber),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){if(0===e.length)return t;var n=e[e.length-1],o=e.slice(0,-1);return o.reduceRight(function(e,t){return t(e)},n(t))}};e.enterZone=enterZone,e.EnterZoneOperator=s,e.leaveZone=leaveZone,e.LeaveZoneOperator=u,e.select=select,e.compose=l,Object.defineProperty(e,"__esModule",{value:!0})})},418:function(e,t,n){"use strict";var o=n(419);t.Monaco=o;var r=n(420);t.Snippet=r;var i=n(421);t.UI=i;var s=n(422);t.GitHub=s},419:function(e,t,n){"use strict";var o=n(32);t.MonacoActionTypes={CHANGE_TAB:o.type("[Monaco] Change Tab"),UPDATE_INTELLISENSE:o.type("[Monaco] Update Intellisense"),ADD_INTELLISENSE:o.type("[Monaco] Add Intellisense"),UPDATE_INTELLISENSE_SUCCESS:o.type("[Monaco] Update Intellisense Success"),RESET:o.type("[Monaco] Reset Tab")};var r=function(){function ChangeTabAction(e,n){this.payload=e,this.language=n,this.type=t.MonacoActionTypes.CHANGE_TAB;
}return ChangeTabAction}();t.ChangeTabAction=r;var i=function(){function ResetAction(){this.type=t.MonacoActionTypes.RESET}return ResetAction}();t.ResetAction=i;var s=function(){function UpdateIntellisenseAction(e,n){this.payload=e,this.language=n,this.type=t.MonacoActionTypes.UPDATE_INTELLISENSE}return UpdateIntellisenseAction}();t.UpdateIntellisenseAction=s;var a=function(){function AddIntellisenseAction(e,n){this.payload=e,this.language=n,this.type=t.MonacoActionTypes.ADD_INTELLISENSE}return AddIntellisenseAction}();t.AddIntellisenseAction=a;var c=function(){function UpdateIntellisenseSuccessAction(){this.type=t.MonacoActionTypes.UPDATE_INTELLISENSE_SUCCESS}return UpdateIntellisenseSuccessAction}();t.UpdateIntellisenseSuccessAction=c},420:function(e,t,n){"use strict";var o=n(32);t.SnippetActionTypes={VIEW:o.type("[Snippet] View"),IMPORT:o.type("[Snippet] Import"),IMPORT_SUCCESS:o.type("[Snippet] Import Successful"),RUN:o.type("[Snippet] Run"),CREATE:o.type("[Snippet] Create"),UPDATE_INFO:o.type("[Snippet] Update Info"),DUPLICATE:o.type("[Snippet] Duplicate"),SAVE:o.type("[Snippet] Save"),SHARE:o.type("[Snippet] Share"),DELETE:o.type("[Snippet] Delete"),DELETE_ALL:o.type("[Snippet] Delete All"),STORE_UPDATED:o.type("[Snippet] Storage Updated"),LOAD_SNIPPETS:o.type("[Snippet] Load Snippets"),LOAD_SNIPPETS_SUCCESS:o.type("[Snippet] Load Snippets Success"),LOAD_TEMPLATES:o.type("[Snippet] Load Templates"),LOAD_TEMPLATES_SUCCESS:o.type("[Snippet] Load Templates Success")};var r=function(){function ViewAction(e){this.payload=e,this.type=t.SnippetActionTypes.VIEW}return ViewAction}();t.ViewAction=r;var i=function(){function ImportAction(e,n){void 0===n&&(n=""),this.payload=e,this.params=n,this.type=t.SnippetActionTypes.IMPORT}return ImportAction}();t.ImportAction=i;var s=function(){function ImportSuccessAction(e,n){this.payload=e,this.params=n,this.type=t.SnippetActionTypes.IMPORT_SUCCESS}return ImportSuccessAction}();t.ImportSuccessAction=s;var a=function(){function UpdateInfoAction(e){this.payload=e,this.type=t.SnippetActionTypes.UPDATE_INFO}return UpdateInfoAction}();t.UpdateInfoAction=a;var c=function(){function RunAction(e){this.payload=e,this.type=t.SnippetActionTypes.RUN}return RunAction}();t.RunAction=c;var u=function(){function CreateAction(e){this.payload=e,this.type=t.SnippetActionTypes.CREATE}return CreateAction}();t.CreateAction=u;var p=function(){function DuplicateAction(e){this.payload=e,this.type=t.SnippetActionTypes.DUPLICATE}return DuplicateAction}();t.DuplicateAction=p;var l=function(){function SaveAction(e){this.payload=e,this.type=t.SnippetActionTypes.SAVE}return SaveAction}();t.SaveAction=l;var f=function(){function ShareAction(e){this.payload=e,this.type=t.SnippetActionTypes.SHARE}return ShareAction}();t.ShareAction=f;var d=function(){function DeleteAction(e){this.payload=e,this.type=t.SnippetActionTypes.DELETE}return DeleteAction}();t.DeleteAction=d;var h=function(){function DeleteAllAction(){this.type=t.SnippetActionTypes.DELETE_ALL}return DeleteAllAction}();t.DeleteAllAction=h;var y=function(){function StoreUpdated(){this.type=t.SnippetActionTypes.STORE_UPDATED}return StoreUpdated}();t.StoreUpdated=y;var _=function(){function LoadSnippets(){this.type=t.SnippetActionTypes.LOAD_SNIPPETS}return LoadSnippets}();t.LoadSnippets=_;var g=function(){function LoadTemplates(e){void 0===e&&(e="LOCAL"),this.payload=e,this.type=t.SnippetActionTypes.LOAD_TEMPLATES}return LoadTemplates}();t.LoadTemplates=g;var m=function(){function LoadSnippetsSuccess(e){this.payload=e,this.type=t.SnippetActionTypes.LOAD_SNIPPETS_SUCCESS}return LoadSnippetsSuccess}();t.LoadSnippetsSuccess=m;var v=function(){function LoadTemplatesSuccess(e){this.payload=e,this.type=t.SnippetActionTypes.LOAD_TEMPLATES_SUCCESS}return LoadTemplatesSuccess}();t.LoadTemplatesSuccess=v},421:function(e,t,n){"use strict";var o=n(32);t.UIActionTypes={OPEN_MENU:o.type("[UI] Open Menu"),CLOSE_MENU:o.type("[UI] Close Menu"),SHOW_ALERT:o.type("[UI] Show Alert"),DISMISS_ALERT:o.type("[UI] Dismiss Alert"),CHANGE_THEME:o.type("[UI] Change Theme"),CHANGE_LANGUAGE:o.type("[UI] Change Language"),REPORT_ERROR:o.type("[UI] Report Error")};var r=function(){function OpenMenuAction(){this.type=t.UIActionTypes.OPEN_MENU}return OpenMenuAction}();t.OpenMenuAction=r;var i=function(){function CloseMenuAction(){this.type=t.UIActionTypes.CLOSE_MENU}return CloseMenuAction}();t.CloseMenuAction=i;var s=function(){function ShowAlertAction(e){this.payload=e,this.type=t.UIActionTypes.SHOW_ALERT}return ShowAlertAction}();t.ShowAlertAction=s;var a=function(){function DismissAlertAction(e){this.payload=e,this.type=t.UIActionTypes.DISMISS_ALERT}return DismissAlertAction}();t.DismissAlertAction=a;var c=function(){function ChangeThemeAction(e){this.light=e,this.type=t.UIActionTypes.CHANGE_THEME}return ChangeThemeAction}();t.ChangeThemeAction=c;var u=function(){function ChangeLanguageAction(e){this.payload=e,this.type=t.UIActionTypes.CHANGE_LANGUAGE}return ChangeLanguageAction}();t.ChangeLanguageAction=u;var p=function(){function ReportErrorAction(e){this.payload=e,this.type=t.UIActionTypes.REPORT_ERROR}return ReportErrorAction}();t.ReportErrorAction=p},422:function(e,t,n){"use strict";var o=n(32);t.GitHubActionTypes={LOGIN:o.type("[GitHub] Login"),IS_LOGGED_IN:o.type("[Github] Is Logged In"),LOGGED_IN:o.type("[GitHub] Logged In"),LOGGED_OUT:o.type("[GitHub] Logged Out"),SHARE_PUBLIC_GIST:o.type("[GitHub] Share Public Gist"),SHARE_PRIVATE_GIST:o.type("[GitHub] Share Private Gist"),SHARE_COPY:o.type("[GitHub] Share Copy"),SHARE_SUCCESS:o.type("[GitHub] Share Success"),UDPATE_GIST:o.type("[GitHub] Update Gist")};var r=function(){function LoginAction(){this.type=t.GitHubActionTypes.LOGIN}return LoginAction}();t.LoginAction=r;var i=function(){function LogoutAction(){this.type=t.GitHubActionTypes.LOGGED_OUT}return LogoutAction}();t.LogoutAction=i;var s=function(){function IsLoggedInAction(){this.type=t.GitHubActionTypes.IS_LOGGED_IN}return IsLoggedInAction}();t.IsLoggedInAction=s;var a=function(){function LoggedInAction(e){this.payload=e,this.type=t.GitHubActionTypes.LOGGED_IN}return LoggedInAction}();t.LoggedInAction=a;var c=function(){function ShareCopyGistAction(e){this.payload=e,this.type=t.GitHubActionTypes.SHARE_COPY}return ShareCopyGistAction}();t.ShareCopyGistAction=c;var u=function(){function SharePublicGistAction(e){this.payload=e,this.type=t.GitHubActionTypes.SHARE_PUBLIC_GIST}return SharePublicGistAction}();t.SharePublicGistAction=u;var p=function(){function SharePrivateGistAction(e){this.payload=e,this.type=t.GitHubActionTypes.SHARE_PRIVATE_GIST}return SharePrivateGistAction}();t.SharePrivateGistAction=p;var l=function(){function ShareSuccessAction(e){this.payload=e,this.type=t.GitHubActionTypes.SHARE_SUCCESS}return ShareSuccessAction}();t.ShareSuccessAction=l;var f=function(){function UpdateGistAction(e){this.payload=e,this.type=t.GitHubActionTypes.UDPATE_GIST}return UpdateGistAction}();t.UpdateGistAction=f},423:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function Dialog(){}return Dialog}();o([i.Input(),r("design:type",String)],s.prototype,"title",void 0),o([i.Input(),r("design:type",Boolean)],s.prototype,"show",void 0),s=o([i.Component({selector:"dialog",template:'\n    <div class="ms-Overlay" [ngClass]="{ \'is-visible\': show }"></div>\n    <div class="ms-Dialog ms-Dialog--lgHeader ms-u-fadeIn200" [ngClass]="{ \'is-open\': show }">\n        <div class="ms-Dialog-main">\n            <div class="ms-Dialog-header">\n                <p [hidden]="title == null" class="ms-Dialog-title">{{ title }}</p>\n            </div>\n            <div class="ms-Dialog-inner">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    </div>\n'}),r("design:paramtypes",[])],s),t.Dialog=s},424:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(3),a=function(){function Hamburger(){this.dismiss=new i.EventEmitter}return Hamburger}();o([i.Input(),r("design:type",s.Observable)],a.prototype,"open",void 0),o([i.Output(),r("design:type",Object)],a.prototype,"dismiss",void 0),a=o([i.Component({selector:"hamburger",template:'\n    <section class="hamburger-menu ms-u-slideRightIn10" [class.hamburger-menu--shown]="open|async">\n        <header class="command__bar">\n            <command [hidden]="!(open|async)" icon="Cancel" (click)="dismiss.emit()"></command>\n            <command class="title" title="Add-in Playground"></command>\n        </header>\n        <div class="hamburger-menu__container">\n            <ng-content></ng-content>\n        </div>\n    </section>\n    '}),r("design:paramtypes",[])],a),t.Hamburger=a},425:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function Collapse(){this.events=new i.EventEmitter}return Collapse.prototype.clicked=function(e,t){t.stopPropagation(),this.events.emit({action:e,title:this.title})},Collapse}();o([i.Input(),r("design:type",String)],s.prototype,"title",void 0),o([i.Input(),r("design:type",Array)],s.prototype,"actions",void 0),o([i.Output(),r("design:type",i.EventEmitter)],s.prototype,"events",void 0),s=o([i.Component({selector:"collapse",template:'\n        <div class="command__bar command--light" (click)="collapsed = !collapsed">\n            <div class="command__title">\n                <span class="ms-font-m">{{ title }}</span>\n            </div>\n            <div class="command__icon" *ngFor="let action of actions" (click)="clicked(action, $event)">\n                <i class="ms-Icon" [ngClass]="\'ms-Icon--\' + action"></i>\n            </div>\n            <div class="command__icon">\n                <i class="ms-Icon" [ngClass]="collapsed?\'ms-Icon--ChevronDown\':\'ms-Icon--ChevronUp\'"></i>\n            </div>\n        </div>\n        <section classs="collapse__panel" [hidden]="collapsed">\n            <ng-content></ng-content>\n        </section>'}),r("design:paramtypes",[])],s),t.Collapse=s},426:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function Command(){}return Object.defineProperty(Command.prototype,"icon",{get:function(){if(this._icon)return"ms-Icon--"+this._icon},set:function(e){this._icon=e},enumerable:!0,configurable:!0}),Command}();o([i.Input(),r("design:type",Object),r("design:paramtypes",[])],s.prototype,"icon",null),o([i.Input(),r("design:type",String)],s.prototype,"title",void 0),o([i.Input(),r("design:type",String)],s.prototype,"image",void 0),o([i.Input(),r("design:type",Boolean)],s.prototype,"async",void 0),s=o([i.Component({selector:"command",template:'\n        <div class="command__icon ms-u-slideLeftIn10">\n            <i [hidden]="async || !icon" class="ms-Icon" [ngClass]="icon"></i>\n            <img class="command__image" *ngIf="image" [src]="image" />\n            <svg *ngIf="async === true" class="command__async" version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">\n                <path fill="#fff" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">\n                    <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />\n                </path>\n            </svg>\n            <span class="ms-font-m ms-u-slideLeftIn10" *ngIf="!(title == null)">{{title}}</span>\n        </div>\n        <div class="command__dropdown">\n            <ng-content></ng-content>\n        </div>\n    '}),r("design:paramtypes",[])],s),t.Command=s},427:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function SnippetInfo(){this.dismiss=new i.EventEmitter}return SnippetInfo}();o([i.Input(),r("design:type",Object)],s.prototype,"snippet",void 0),o([i.Input(),r("design:type",Boolean)],s.prototype,"show",void 0),o([i.Output(),r("design:type",Object)],s.prototype,"dismiss",void 0),s=o([i.Component({selector:"snippet-info",template:'\n        <dialog title="Info" *ngIf="!(snippet==null)" [show]="show">\n            <div class="ms-Dialog-content">\n                <div class="ms-TextField">\n                    <label class="ms-Label">Name</label>\n                    <input class="ms-TextField-field ms-font-m" type="text" [(ngModel)]="snippet.name" placeholder="Name of the snippet" />\n                </div>\n\n                <div class="ms-TextField ms-TextField--multiline">\n                    <label class="ms-Label">Description</label>\n                    <textarea class="ms-TextField-field ms-font-m" [(ngModel)]="snippet.description" placeholder="Description of the snippet"></textarea>\n                </div>\n            </div>\n            <div class="ms-Dialog-actions">\n                <div class="ms-Dialog-actionsRight">\n                    <button class="ms-Dialog-action ms-Button" (click)="dismiss.emit(true)">\n                        <i class="ms-Icon ms-Icon--Save"></i>\n                        <span class="ms-Button-label">Save</span>\n                    </button>\n                    <button class="ms-Dialog-action ms-Button" (click)="dismiss.emit(false)">\n                        <i class="ms-Icon ms-Icon--Cancel"></i>\n                        <span class="ms-Button-label">Cancel</span>\n                    </button>\n                </div>\n            </div>\n        </dialog>\n    '}),r("design:paramtypes",[])],s),t.SnippetInfo=s},428:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=function(){function Profile(){this.dismiss=new i.EventEmitter}return Profile}();o([i.Input(),r("design:type",Object)],s.prototype,"profile",void 0),o([i.Input(),r("design:type",Boolean)],s.prototype,"show",void 0),o([i.Output(),r("design:type",Object)],s.prototype,"dismiss",void 0),s=o([i.Component({selector:"profile",template:'\n        <dialog *ngIf="!(profile==null)" [show]="show">\n            <div class="profile">\n                <img class="profile__image" [src]="profile?.avatar_url">\n                <div class="profile__details">\n                    <div class="profile__primary-text ms-font-xxl">{{profile?.name}}</div>\n                    <div class="profile__secondary-text ms-font-l">{{profile?.login}}</div>\n                    <div class="profile__tertiary-text ms-font-m">{{profile?.bio}}</div>\n                </div>\n            </div>\n            <div class="ms-Dialog-actions">\n                <div class="ms-Dialog-actionsRight">\n                    <button class="ms-Dialog-action ms-Button" (click)="dismiss.emit(false)">\n                        <i class="ms-Icon ms-Icon--Cancel"></i>\n                        <span class="ms-Button-label">Close</span>\n                    </button>\n                    <button class="ms-Dialog-action ms-Button" (click)="dismiss.emit(true)">\n                        <i class="ms-Icon ms-Icon--OutOfOffice"></i>\n                        <span class="ms-Button-label">Sign Out</span>\n                    </button>\n                </div>\n            </div>\n        </dialog>\n    '}),r("design:paramtypes",[])],s),t.Profile=s},429:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(28),a=n(32),c=n(84),u=function(){function About(){this.showChange=new i.EventEmitter,this.config=c.Config.build,this.cache="Storage Usage:\n"+a.Utilities.storageSize(localStorage,s.Utilities.host+" Snippets")+"\n"+a.Utilities.storageSize(sessionStorage,"IntellisenseCache")}return About}();o([i.Input(),r("design:type",Boolean)],u.prototype,"show",void 0),o([i.Output(),r("design:type",Object)],u.prototype,"showChange",void 0),u=o([i.Component({selector:"about",template:'\n        <dialog [show]="show">\n            <div class="about">\n                <div class="about__image"></div>\n                <div class="about__details">\n                    <div class="about__primary-text ms-font-xxl">{{config?.name}}</div>\n                    <div class="about__secondary-text ms-font-l">Version: {{config?.full_version}}</div>\n                    <pre class="about__tertiary-text ms-font-m">{{cache}}</pre>\n                </div>\n            </div>\n            <div class="ms-Dialog-actions">\n                <div class="ms-Dialog-actionsRight">\n                    <button class="ms-Dialog-action ms-Button" (click)="showChange.emit(false)">\n                        <i class="ms-Icon ms-Icon--CheckMark"></i>\n                        <span class="ms-Button-label">Ok</span>\n                    </button>\n                </div>\n            </div>\n        </dialog>\n    '}),r("design:paramtypes",[])],u),t.About=u},430:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(431)),__export(n(438)),__export(n(441)),__export(n(442))},431:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t)).next())})},a=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=o[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return{next:verb(0),throw:verb(1),return:verb(2)}},c=n(1),u=n(28),p=n(432),l=n(416),f=n(418),d=n(29),h=n(47),y=function(e){function Editor(t,n){var o=e.call(this)||this;return o._store=t,o._monaco=n,o.tabs=new u.Dictionary,o.hide=!0,o.changeTab=function(e){return void 0===e&&(e="script"),o._store.dispatch(new f.Monaco.ChangeTabAction(e,o.tabs.get(e).language))},o._debouncedInput=h.debounce(function(e){o._readonly||(o.currentState.content=o._monacoEditor.getValue(),o._store.dispatch(new f.Snippet.SaveAction(o.snippet)))},250),o}return o(Editor,e),Editor.prototype.ngAfterViewInit=function(){return s(this,void 0,void 0,function(){var e,t=this;return a(this,function(n){switch(n.label){case 0:return e=this,[4,this._monaco.create(this._editor,{theme:"vs",readOnly:!0})];case 1:return e._monacoEditor=n.sent(),this._monacoEditor.onKeyDown(function(e){return t._debouncedInput(e)}),this._createTabs(),this._subscribeToState(),[2]}})})},Editor.prototype.updateIntellisense=function(){null!=this.snippet&&this._store.dispatch(new f.Monaco.UpdateIntellisenseAction(this.snippet.libraries.split("\n"),"typescript"))},Editor.prototype._createTabs=function(){var e=this;["Script","Template","Style","Libraries"].forEach(function(t){var n=t.toLowerCase(),o={name:n,view:t,viewState:null};e.tabs.insert(n,o)})},Editor.prototype._subscribeToState=function(){var e=this;this._store.select(p.getMenu).subscribe(function(t){return e._resize()}),this._store.select(p.getTheme).subscribe(function(t){return e._monaco.updateOptions(e._monacoEditor,{theme:t?"vs":"vs-dark"})}),this._store.select(p.getReadOnly).subscribe(function(t){e._readonly=t,e._monaco.updateOptions(e._monacoEditor,{readOnly:t})}),this._store.select(p.getCurrent).filter(function(t){return e.hide=null==t,!e.hide}).subscribe(function(t){e._store.dispatch(new f.Monaco.ResetAction),e._changeSnippet(t)}),this._store.select(p.getActiveTab).subscribe(function(t){if(null==t&&(e.currentState=null),e.currentState){var n=e.tabs.get(e.currentState.name);n.content=e._monacoEditor.getValue(),n.model=e._monacoEditor.getModel(),n.viewState=e._monacoEditor.saveViewState()}t&&(e.currentState=e.tabs.get(t),e._monacoEditor.setModel(e.currentState.model),e._monacoEditor.restoreViewState(e.currentState.viewState),e._monacoEditor.focus())})},Editor.prototype._changeSnippet=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){return this.tabs.values().forEach(function(t){t.model&&t.model.dispose();var n,o,r,i=null;"libraries"===t.name?(s=[e[t.name],t.name],n=s[0],o=s[1]):(n=e[t.name].content,o=e[t.name].language),r=monaco.editor.createModel(n,o),t.model=r,t.content=n,t.language=o,t.viewState=i;var s}),this._snippet=e,this.changeTab(),this.updateIntellisense(),[2]})})},Object.defineProperty(Editor.prototype,"snippet",{get:function(){var e=this;return null==this._snippet?null:(["script","template","style","libraries"].forEach(function(t){var n=e.tabs.get(t),o=n.content,r=n.language;"libraries"===t?e._snippet.libraries=o:e._snippet[t]={content:o,language:r}}),this._snippet)},enumerable:!0,configurable:!0}),Editor.prototype._resize=function(){var e=this;this._monacoEditor&&setTimeout(function(){e._monacoEditor.layout(),e._monacoEditor.setScrollTop(0),e._monacoEditor.setScrollLeft(0)},0)},Editor}(d.Disposable);r([c.ViewChild("editor"),i("design:type",c.ElementRef)],y.prototype,"_editor",void 0),r([c.HostListener("window:resize",["$event"]),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],y.prototype,"_resize",null),y=r([c.Component({selector:"editor",template:'\n        <ul class="tabs ms-Pivot ms-Pivot--tabs" [hidden]="hide">\n            <li class="tabs__tab ms-Pivot-link" *ngFor="let tab of tabs.values()" (click)="changeTab(tab.name)" [ngClass]="{\'is-selected tabs__tab--active\' : tab.name === currentState?.name}">\n                {{tab.view}}\n            </li>\n        </ul>\n        <section [hidden]="hide" id="editor" #editor class="viewport"></section>\n        <section [hidden]="!hide" class="viewport__placeholder"></section>\n    '}),i("design:paramtypes",[l.Store,d.MonacoService])],y),t.Editor=y},432:function(e,t,n){"use strict";var o=n(433),r=n(416),i=n(434),s=n(435),a=n(436),c=n(437),u={snippet:i.reducer,monaco:s.reducer,ui:a.reducer,github:c.reducer};t.rootReducer=function(e,t){return r.combineReducers(u)(e,t)};var p=function(e){return e.snippet};t.getReadOnly=o.createSelector(p,i.getReadOnly),t.getCurrent=o.createSelector(p,i.getCurrent),t.getSnippets=o.createSelector(p,i.getSnippets),t.getTemplates=o.createSelector(p,i.getTemplates),t.getLoading=o.createSelector(p,i.getLoading),t.getRunning=o.createSelector(p,i.getRunning);var l=function(e){return e.monaco};t.getActiveTab=o.createSelector(l,s.getActiveTab),t.getLanguage=o.createSelector(l,s.getActiveLanguage),t.getProgress=o.createSelector(l,s.getLoading);var f=function(e){return e.ui};t.getMenu=o.createSelector(f,a.getMenuOpened),t.getDialog=o.createSelector(f,a.getDialog),t.getTheme=o.createSelector(f,a.getTheme),t.getErrors=o.createSelector(f,a.getErrors);var d=function(e){return e.github};t.getProfileLoading=o.createSelector(d,c.getLoading),t.getProfile=o.createSelector(d,c.getProfile),t.getLoggedIn=o.createSelector(d,c.getLoggedIn),t.getSharing=o.createSelector(d,c.getSharing)},433:function(e,t){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function defaultEqualityCheck(e,t){return e===t}function defaultMemoize(e){var t=arguments.length<=1||void 0===arguments[1]?defaultEqualityCheck:arguments[1],n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return null!==n&&n.length===i.length&&i.every(function(e,o){return t(e,n[o])})||(o=e.apply(void 0,i)),n=i,o}}function getDependencies(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function createSelectorCreator(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=0,s=o.pop(),a=getDependencies(o),c=e.apply(void 0,[function(){return i++,s.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=a.map(function(n){return n.apply(void 0,[e,t].concat(o))});return c.apply(void 0,_toConsumableArray(i))};return u.resultFunc=s,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}function createStructuredSelector(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e);return t(o.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[o[n]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=defaultMemoize,t.createSelectorCreator=createSelectorCreator,t.createStructuredSelector=createStructuredSelector;var n=t.createSelector=createSelectorCreator(defaultMemoize)},434:function(e,t,n){"use strict";function reducer(e,t){void 0===e&&(e=i);var n=r.updateState(e);switch(t.type){case o.SnippetActionTypes.IMPORT:return n({loading:!0});case o.SnippetActionTypes.IMPORT_SUCCESS:return n({loading:!1,lastOpened:t.payload,readonly:t.params});case o.SnippetActionTypes.UPDATE_INFO:return n({lastOpened:Object.assign({},e.lastOpened,t.payload)});case o.SnippetActionTypes.LOAD_SNIPPETS_SUCCESS:return n({snippets:t.payload.slice()});case o.SnippetActionTypes.LOAD_TEMPLATES_SUCCESS:return n({templates:t.payload.slice()});case o.SnippetActionTypes.CREATE:return n({readonly:!1,lastOpened:t.payload});case o.SnippetActionTypes.SAVE:return n({lastOpened:t.payload});case o.SnippetActionTypes.DELETE:var s=!1;return e.lastOpened&&e.lastOpened.id===t.payload&&(s=!0),n({lastOpened:s?null:e.lastOpened});case o.SnippetActionTypes.DELETE_ALL:return n({lastOpened:null});case o.SnippetActionTypes.RUN:return n({running:!0});case o.SnippetActionTypes.VIEW:return n({loading:!0});case o.SnippetActionTypes.STORE_UPDATED:return n({loading:!1});default:return e}}var o=n(420),r=n(32),i={lastOpened:null,loading:!1,running:!1,readonly:!1,snippets:[],templates:[]};t.reducer=reducer,t.getReadOnly=function(e){return e.readonly},t.getCurrent=function(e){return e.lastOpened},t.getSnippets=function(e){return e.snippets},t.getTemplates=function(e){return e.templates},t.getLoading=function(e){return e.loading},t.getRunning=function(e){return e.running}},435:function(e,t,n){"use strict";function reducer(e,t){void 0===e&&(e=i);var n=r.updateState(e);switch(t.type){case o.MonacoActionTypes.CHANGE_TAB:return n({activeTab:t.payload,activeLanguage:t.language});case o.MonacoActionTypes.RESET:return n({activeTab:null,activeLanguage:null});case o.MonacoActionTypes.UPDATE_INTELLISENSE:return n({loading:!0});case o.MonacoActionTypes.UPDATE_INTELLISENSE_SUCCESS:return n({loading:!1});default:return e}}var o=n(419),r=n(32),i={activeTab:null,activeLanguage:null,loading:!1};t.reducer=reducer,t.getActiveTab=function(e){return e.activeTab},t.getActiveLanguage=function(e){return e.activeLanguage},t.getLoading=function(e){return e.loading}},436:function(e,t,n){"use strict";function reducer(e,t){void 0===e&&(e=i);var n=r.updateState(e);switch(t.type){case o.UIActionTypes.OPEN_MENU:return n({menuOpened:!0});case o.UIActionTypes.CLOSE_MENU:return n({menuOpened:!1});case o.UIActionTypes.SHOW_ALERT:return n({dialog:t.payload});case o.UIActionTypes.DISMISS_ALERT:return n({dialog:null});case o.UIActionTypes.CHANGE_THEME:
return n({theme:!e.theme});case o.UIActionTypes.REPORT_ERROR:return n({errors:e.errors.concat([t.payload])});case o.UIActionTypes.CHANGE_LANGUAGE:return n({language:t.payload});default:return e}}var o=n(421),r=n(32),i={theme:!1,menuOpened:!1,errors:[],dialog:null};t.reducer=reducer,t.getDialog=function(e){return e.dialog},t.getMenuOpened=function(e){return e.menuOpened},t.getErrors=function(e){return e.errors},t.getTheme=function(e){return e.theme}},437:function(e,t,n){"use strict";function reducer(e,t){void 0===e&&(e=i);var n=r.updateState(e);switch(t.type){case o.GitHubActionTypes.LOGIN:return n({loading:!0});case o.GitHubActionTypes.LOGGED_IN:return n({loading:!1,isLoggedIn:!0,profile:t.payload});case o.GitHubActionTypes.LOGGED_OUT:return n({loading:!1,isLoggedIn:!1,profile:null});case o.GitHubActionTypes.SHARE_PRIVATE_GIST:case o.GitHubActionTypes.SHARE_PUBLIC_GIST:return n({sharing:!0});case o.GitHubActionTypes.SHARE_SUCCESS:return n({sharing:!1});default:return e}}var o=n(422),r=n(32),i={isLoggedIn:!1,loading:!1,profile:null,sharing:!1};t.reducer=reducer,t.getLoading=function(e){return e.loading},t.getLoggedIn=function(e){return e.isLoggedIn},t.getProfile=function(e){return e.profile},t.getSharing=function(e){return e.sharing}},438:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(413),a=n(416),c=n(432),u=n(418),p=n(439),l=function(){function AppComponent(e,t,n){var o=this;this._store=e,this._router=t,this._effects=n,this.readonly$=this._store.select(c.getReadOnly),this.menuOpened$=this._store.select(c.getMenu),this.theme$=this._store.select(c.getTheme).map(function(e){return e?"Light":"Dark"}),this.language$=this._store.select(c.getLanguage),this.errors$=this._store.select(c.getErrors),this.profile$=this._store.select(c.getProfile),this.profileLoading$=this._store.select(c.getProfileLoading),this.running$=this._store.select(c.getRunning),this.isLoggedIn$=this._store.select(c.getLoggedIn),this.sharing$=this._store.select(c.getSharing),this._store.select(c.getCurrent).subscribe(function(e){o.isEmpty=null==e,o.snippet=e}),this._store.dispatch(new u.GitHub.IsLoggedInAction)}return AppComponent.prototype.showMenu=function(){this._store.dispatch(new u.UI.OpenMenuAction)},AppComponent.prototype.hideMenu=function(){this._store.dispatch(new u.UI.CloseMenuAction)},AppComponent.prototype.save=function(){null!=this.snippet&&this._store.dispatch(new u.Snippet.SaveAction(this.snippet))},AppComponent.prototype.run=function(){null!=this.snippet&&this._store.dispatch(new u.Snippet.RunAction(this.snippet))},AppComponent.prototype.delete=function(){null!=this.snippet&&this._store.dispatch(new u.Snippet.DeleteAction(this.snippet.id))},AppComponent.prototype.duplicate=function(){null!=this.snippet&&this._store.dispatch(new u.Snippet.DuplicateAction(this.snippet.id))},AppComponent.prototype.create=function(e){null!=this.snippet&&e&&this._store.dispatch(new u.Snippet.CreateAction(this.snippet))},AppComponent.prototype.changeTheme=function(){this._store.dispatch(new u.UI.ChangeThemeAction)},AppComponent.prototype.logout=function(e){e&&this._store.dispatch(new u.GitHub.LogoutAction)},AppComponent.prototype.login=function(){this._store.dispatch(new u.GitHub.LoginAction)},AppComponent.prototype.shareGist=function(e){null!=this.snippet&&(e?this._store.dispatch(new u.GitHub.SharePublicGistAction(this.snippet)):this._store.dispatch(new u.GitHub.SharePrivateGistAction(this.snippet)))},AppComponent.prototype.shareCopy=function(){null!=this.snippet&&this._store.dispatch(new u.GitHub.ShareCopyGistAction(this.snippet))},AppComponent}();l=o([i.Component({selector:"app",template:'\n        <hamburger [open]="menuOpened$" (dismiss)="hideMenu()">\n            <gallery-view></gallery-view>\n        </hamburger>\n        <main [ngClass]="theme$|async">\n            <header class="command__bar">\n                <command [hidden]="menuOpened$|async" icon="GlobalNavButton" (click)="showMenu()"></command>\n                <command [hidden]="isEmpty" icon="AppForOfficeLogo" [title]="snippet?.name" (click)="showInfo=true"></command>\n                <command [hidden]="isEmpty || (readonly$|async)" icon="Play" [async]="running$|async" title="Run" (click)="run()"></command>\n                <command [hidden]="isEmpty || !(readonly$|async)" icon="Add" title="Add to my snippets" (click)="showInfo=true"></command>\n                <command [hidden]="isEmpty || (readonly$|async)" icon="Save" title="Save" (click)="save()"></command>\n                <command [hidden]="isEmpty || (readonly$|async)" icon="Share" [async]="sharing$|async" title="Share">\n                    <command [hidden]="!(isLoggedIn$|async)" icon="OpenFile" title="Public Gist" (click)="shareGist(true)"></command>\n                    <command [hidden]="!(isLoggedIn$|async)" icon="ProtectedDocument" title="Private Gist" (click)="shareGist(false)"></command>\n                    <command id="CopyToClipboard" icon="Generate" title="Copy to clipboard" (click)="shareCopy()"></command>\n                </command>\n                <command [hidden]="isEmpty || (readonly$|async)" icon="Copy" title="Duplicate" (click)="duplicate()"></command>\n                <command [hidden]="isEmpty || (readonly$|async)" icon="Delete" title="Delete" (click)="delete()"></command>\n                <command [hidden]="isLoggedIn$|async" [async]="profileLoading$|async" icon="AddFriend" title="Sign in to GitHub" (click)="login()"></command>\n                <command [hidden]="!(isLoggedIn$|async)" [title]="(profile$|async)?.login" [image]="(profile$|async)?.avatar_url" (click)="showProfile=true"></command>\n            </header>\n            <router-outlet></router-outlet>\n            <footer class="command__bar command__bar--condensed">\n                <command icon="Info" title="About" (click)="showAbout=true"></command>\n                <command icon="Color" [title]="theme$|async" (click)="changeTheme()"></command>\n                <command icon="StatusErrorFull" [title]="(errors$|async)?.length"></command>\n                <command class="language" [title]="language$|async"></command>\n            </footer>\n        </main>\n        <about [(show)]="showAbout"></about>\n        <snippet-info [show]="showInfo" [snippet]="snippet" (dismiss)="create($event); showInfo=false"></snippet-info>\n        <profile [show]="showProfile" [profile]="profile$|async" (dismiss)="logout($event); showProfile=false"></profile>\n    '}),r("design:paramtypes",[a.Store,s.Router,p.UIEffects])],l),t.AppComponent=l},439:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t)).next())})},s=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=o[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return{next:verb(0),throw:verb(1),return:verb(2)}},a=n(1),c=n(418),u=n(32),p=n(416),l=n(440),f=function(){function UIEffects(e,t){var n=this;this._store=e,this.actions$=t,this.dismissDialog$=this.actions$.ofType(c.UI.UIActionTypes.DISMISS_ALERT).map(function(e){return e.payload}).do(function(e){return n._resolve(e)}).catch(function(e){return n._reject(new u.PlaygroundError("An error occurred in Dialog",e))})}return UIEffects.prototype.showAlert=function(e){return i(this,void 0,void 0,function(){var t,n,o=this;return s(this,function(r){switch(r.label){case 0:if(null!=this._resolve)return[2,Promise.reject(new u.PlaygroundError("A dialog is already open."))];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,new Promise(function(t,n){o._resolve=t,o._reject=n,o._store.dispatch(new c.UI.ShowAlertAction(e))})];case 2:return t=r.sent(),this._resolve=null,this._reject=null,[2,t];case 3:return n=r.sent(),this._resolve=null,this._reject=null,[2,n];case 4:return[2]}})})},UIEffects}();o([l.Effect({dispatch:!1}),r("design:type",Object)],f.prototype,"dismissDialog$",void 0),f=o([a.Injectable(),r("design:paramtypes",[p.Store,l.Actions])],f),t.UIEffects=f},440:function(e,t,n){!function(e,o){o(t,n(148),n(264),n(1),n(416),n(3),n(248),n(8))}(this,function(e,t,n,o,r,i,s,a){"use strict";function Effect(e){var t=(void 0===e?{dispatch:!0}:e).dispatch;return function(e,n){Reflect.hasOwnMetadata(c,e)||Reflect.defineMetadata(c,[],e);var o=Reflect.getOwnMetadata(c,e),r={propertyName:n,dispatch:t};Reflect.defineMetadata(c,o.concat([r]),e)}}function getEffectsMetadata(e){var t=Object.getPrototypeOf(e);return Reflect.hasOwnMetadata(c,t)?Reflect.getOwnMetadata(c,t):[]}function mergeEffects(e){var o=getEffectsMetadata(e).map(function(t){var o=t.propertyName,r=t.dispatch,i="function"==typeof e[o]?e[o]():e[o];return r===!1?n.ignoreElements.call(i):i});return t.merge.apply(void 0,o)}function runAfterBootstrapEffects(e,t){return function(){var n=e.get(h,!1);n&&t.addEffects(n)}}function toPayload(e){return e.payload}var c="@ngrx/effects",u=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},p=function(e){function Actions(t){e.call(this),this.source=t}return u(Actions,e),Actions.prototype.lift=function(e){var t=new Actions(this);return t.operator=e,t},Actions.prototype.ofType=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return s.filter.call(this,function(t){var n=t.type,o=e.length;if(1===o)return n===e[0];for(var r=0;r<o;r++)if(e[r]===n)return!0;return!1})},Actions.decorators=[{type:o.Injectable}],Actions.ctorParameters=[{type:i.Observable,decorators:[{type:o.Inject,args:[r.Dispatcher]}]}],Actions}(i.Observable),l=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},f=new o.OpaqueToken("ngrx/effects: Effects"),d=function(e){function EffectsSubscription(t,n,o){e.call(this),this.store=t,this.parent=n,Boolean(n)&&n.add(this),Boolean(o)&&this.addEffects(o)}return l(EffectsSubscription,e),EffectsSubscription.prototype.addEffects=function(e){var n=e.map(mergeEffects),o=t.merge.apply(void 0,n);this.add(o.subscribe(this.store))},EffectsSubscription.prototype.ngOnDestroy=function(){this.closed||this.unsubscribe()},EffectsSubscription.decorators=[{type:o.Injectable}],EffectsSubscription.ctorParameters=[{type:void 0,decorators:[{type:o.Inject,args:[r.Store]}]},{type:EffectsSubscription,decorators:[{type:o.Optional},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Inject,args:[f]}]}],EffectsSubscription}(a.Subscription),h=new o.OpaqueToken("ngrx:effects: Bootstrap Effects"),y=function(){function EffectsModule(){}return EffectsModule.run=function(e){return{ngModule:EffectsModule,providers:[d,e,{provide:f,useExisting:e,multi:!0}]}},EffectsModule.runAfterBootstrap=function(e){return{ngModule:EffectsModule,providers:[e,{provide:h,useExisting:e,multi:!0}]}},EffectsModule.decorators=[{type:o.NgModule,args:[{providers:[p,d,{provide:o.APP_BOOTSTRAP_LISTENER,multi:!0,deps:[o.Injector,d],useFactory:runAfterBootstrapEffects}]}]}],EffectsModule.ctorParameters=[],EffectsModule}();e.Effect=Effect,e.mergeEffects=mergeEffects,e.Actions=p,e.EffectsModule=y,e.EffectsSubscription=d,e.toPayload=toPayload,Object.defineProperty(e,"__esModule",{value:!0})})},441:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(47),a=function(){function GalleryList(){this.select=new i.EventEmitter,this.action=new i.EventEmitter}return GalleryList.prototype.ngOnChanges=function(e){e.items&&(this.groupedItems=s.groupBy(e.items.currentValue,"group"),this.empty=s.isEmpty(this.groupedItems)),e.actionable&&e.actionable.currentValue&&(this.actions=["Info","Delete"])},GalleryList}();o([i.Input(),r("design:type",Array)],a.prototype,"items",void 0),o([i.Input(),r("design:type",Boolean)],a.prototype,"actionable",void 0),o([i.Input(),r("design:type",String)],a.prototype,"title",void 0),o([i.Input(),r("design:type",String)],a.prototype,"fallback",void 0),o([i.Output(),r("design:type",Object)],a.prototype,"select",void 0),o([i.Output(),r("design:type",Object)],a.prototype,"action",void 0),a=o([i.Component({selector:"gallery-list",template:'\n        <section class="gallery-list ms-u-slideUpIn10" [hidden]="empty">\n            <collapse [title]="title" [actions]="actions" (events)="action.emit($event)">\n                <section class="gallery-list__group" *ngFor="let group of (groupedItems|keys)">\n                    <h3 class="gallery-list__group-header ms-font-m" *ngIf="group?.key != \'undefined\'">{{group?.key}}</h3>\n                    <section class="gallery-list__group">\n                        <article class="gallery-list__item gallery-list__item--template ms-font-m" *ngFor="let item of group?.value" (click)="select.emit(item)">\n                            <div class="name">{{item?.name}}</div>\n                            <div class="description">{{item?.description}}</div>\n                        </article>\n                    </section>\n                </section>\n            </collapse>\n        </section>\n        <p class="gallery-list__message ms-font-m" [hidden]="!empty">{{fallback||\'No items were found. Please try again later.\'}}</p>\n    '}),r("design:paramtypes",[])],a),t.GalleryList=a},442:function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=n(1),a=n(418),c=n(29),u=n(416),p=n(432),l=n(47),f=function(e){function GalleryView(t){var n=e.call(this)||this;return n._store=t,n.snippets$=n._store.select(p.getSnippets).map(function(e){return l.isEmpty(e)&&(n._store.dispatch(new a.UI.OpenMenuAction),n.templatesView=!0),e}),n.templates$=n._store.select(p.getTemplates),n._store.dispatch(new a.Snippet.LoadSnippets),n._store.dispatch(new a.Snippet.LoadTemplates),n}return o(GalleryView,e),GalleryView.prototype.new=function(){this._store.dispatch(new a.Snippet.ImportAction("default")),this._store.dispatch(new a.UI.CloseMenuAction)},GalleryView.prototype.import=function(e){null==e||(this._store.dispatch(new a.Snippet.ImportAction(e.id||e.gist)),this._store.dispatch(new a.UI.CloseMenuAction))},GalleryView.prototype.action=function(e){if("Local"===e.title)switch(e.action){case"Delete":return this._store.dispatch(new a.Snippet.DeleteAllAction)}},GalleryView}(c.Disposable);f=r([s.Component({selector:"gallery-view",template:'\n        <section class="gallery">\n            <section class="gallery__section">\n                <ul class="gallery__tabs ms-Pivot ms-Pivot--tabs">\n                    <li class="gallery__tab ms-Pivot-link" [ngClass]="{\'is-selected gallery__tab--active\': !templatesView}" (click)="templatesView = false">Snippets</li>\n                    <li class="gallery__tab ms-Pivot-link" [ngClass]="{\'is-selected gallery__tab--active\': templatesView}" (click)="templatesView = true">Templates</li>\n                </ul>\n                <div class="gallery__tabs-container">\n                    <gallery-list [hidden]="templatesView" title="Local" [items]="snippets$|async" (select)="import($event)" fallback="You have no local snippets. To get started, import one from a shared link or create a gallery snippet. You can also choose one from the Templates."\n                        actionable="true" (action)="action($event)"></gallery-list>\n                    <gallery-list [hidden]="!templatesView" title="Microsoft" [items]="templates$|async" (select)="import($event)"></gallery-list>\n                </div>\n            </section>\n            <section class="gallery__section">\n                <hr class="gallery__section--separator" />\n                <button class="gallery__action ms-Button ms-Button--compound" (click)="new()">\n                    <h1 class="ms-Button-label"><i class="ms-Icon ms-Icon--Generate"></i>New</h1>\n                    <span class="ms-Button-description">Create a new snippet.</span>\n                </button>\n                <button class="gallery__action button-primary ms-Button ms-Button--compound" (click)="import()">\n                    <h1 class="ms-Button-label"><i class="ms-Icon ms-Icon--Download"></i>Import</h1>\n                    <span class="ms-Button-description">Create from GIST or JSON.</span>\n                </button>\n            </section>\n        </section>\n    '}),i("design:paramtypes",[u.Store])],f),t.GalleryView=f},443:function(module,exports,__webpack_require__){!function(e,t){t(exports,__webpack_require__(1),__webpack_require__(416),__webpack_require__(186),__webpack_require__(182),__webpack_require__(149),__webpack_require__(124),__webpack_require__(329),__webpack_require__(337),__webpack_require__(395),__webpack_require__(187),__webpack_require__(3),__webpack_require__(115),__webpack_require__(248),__webpack_require__(333),__webpack_require__(357),__webpack_require__(365))}(this,function(exports,_angular_core,_ngrx_store,rxjs_ReplaySubject,rxjs_operator_map,rxjs_operator_merge,rxjs_operator_observeOn,rxjs_operator_scan,rxjs_operator_skip,rxjs_operator_withLatestFrom,rxjs_scheduler_queue,rxjs_Observable,rxjs_observable_empty,rxjs_operator_filter,rxjs_operator_share,rxjs_operator_switchMap,rxjs_operator_takeUntil){"use strict";function difference(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function unliftState(e){var t=e.computedStates,n=e.currentStateIndex,o=t[n].state;return o}function liftAction(e){return StoreDevtoolActions.performAction(e)}function applyOperators(e,t){return t.reduce(function(e,t){var n=t[0],o=t.slice(1);return n.apply(e,o)},e)}function computeNextEntry(e,t,n,o){if(o)return{state:n,error:"Interrupted by an error up the chain"};var r,i=n;try{i=e(n,t)}catch(e){r=e.toString(),console.error(e.stack||e)}return{state:i,error:r}}function recomputeStates(e,t,n,o,r,i,s){if(t>=e.length&&e.length===i.length)return e;for(var a=e.slice(0,t),c=t;c<i.length;c++){var u=i[c],p=r[u].action,l=a[c-1],f=l?l.state:o,d=l?l.error:void 0,h=s.indexOf(u)>-1,y=h?l:computeNextEntry(n,p,f,d);a.push(y)}return a}function liftInitialState(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[]}}function liftReducerWith(e,t,n,o){return void 0===o&&(o={}),function(r){return function(i,s){function commitExcessActions(e){for(var t=e,n=l.slice(1,t+1),o=0;o<n.length;o++){if(y[o+1].error){t=o,n=l.slice(1,t+1);break}delete u[n[o]]}f=f.filter(function(e){return n.indexOf(e)===-1}),l=[0].concat(l.slice(t+1)),d=y[t].state,y=y.slice(t),h=h>t?h-t:0}var a=i||t,c=a.monitorState,u=a.actionsById,p=a.nextActionId,l=a.stagedActionIds,f=a.skippedActionIds,d=a.committedState,h=a.currentStateIndex,y=a.computedStates;i||(u=Object.create(u));var _=0;switch(s.type){case ActionTypes.RESET:u={0:liftAction(INIT_ACTION)},p=1,l=[0],f=[],d=e,h=0,y=[];break;case ActionTypes.COMMIT:u={0:liftAction(INIT_ACTION)},p=1,l=[0],f=[],d=y[h].state,h=0,y=[];break;case ActionTypes.ROLLBACK:u={0:liftAction(INIT_ACTION)},p=1,l=[0],f=[],h=0,y=[];break;case ActionTypes.TOGGLE_ACTION:var g=s.id,m=f.indexOf(g);f=m===-1?[g].concat(f):f.filter(function(e){return e!==g}),_=l.indexOf(g);break;case ActionTypes.SET_ACTIONS_ACTIVE:for(var v=s.start,b=s.end,S=s.active,E=[],A=v;A<b;A++)E.push(A);f=S?difference(f,E):f.concat(E),_=l.indexOf(v);break;case ActionTypes.JUMP_TO_STATE:h=s.index,_=1/0;break;case ActionTypes.SWEEP:l=difference(l,f),f=[],h=Math.min(h,l.length-1);break;case ActionTypes.PERFORM_ACTION:o.maxAge&&l.length===o.maxAge&&commitExcessActions(1),h===l.length-1&&h++;var T=p++;u[T]=s,l=l.concat([T]),_=l.length-1;break;case ActionTypes.IMPORT_STATE:O=s.nextLiftedState,c=O.monitorState,u=O.actionsById,p=O.nextActionId,l=O.stagedActionIds,f=O.skippedActionIds,d=O.committedState,h=O.currentStateIndex,y=O.computedStates,O;break;case _ngrx_store.Reducer.REPLACE:case _ngrx_store.Dispatcher.INIT:_=0,o.maxAge&&l.length>o.maxAge&&(y=recomputeStates(y,_,r,d,u,l,f),commitExcessActions(l.length-o.maxAge),_=1/0);break;default:_=1/0}return y=recomputeStates(y,_,r,d,u,l,f),c=n(c,s),{monitorState:c,actionsById:u,nextActionId:p,stagedActionIds:l,skippedActionIds:f,committedState:d,currentStateIndex:h,computedStates:y};var O}}}function _createReduxDevtoolsExtension(){var e="devToolsExtension",t="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&"undefined"!=typeof window[e]?window[e]:"object"==typeof window&&"undefined"!=typeof window[t]?window[t]:null}function _createState(e){return e.state}function _createReducer(e,t){return new _ngrx_store.Reducer(e,t)}function _createStateIfExtension(e,t){if(e){var n=t.get(StoreDevtools);return _createState(n)}var o=t.get(_ngrx_store.INITIAL_STATE),r=t.get(_ngrx_store.Dispatcher),i=t.get(_ngrx_store.Reducer);return new _ngrx_store.State(o,r,i)}function _createReducerIfExtension(e,t){if(e){var n=t.get(DevtoolsDispatcher),o=t.get(_ngrx_store.INITIAL_REDUCER);return _createReducer(n,o)}var r=t.get(_ngrx_store.Dispatcher),o=t.get(_ngrx_store.INITIAL_REDUCER);return new _ngrx_store.Reducer(r,o)}function _createExtensionOptions(){return{maxAge:1/0,monitor:function(){return null}}}var ActionTypes={PERFORM_ACTION:"PERFORM_ACTION",RESET:"RESET",ROLLBACK:"ROLLBACK",COMMIT:"COMMIT",SWEEP:"SWEEP",TOGGLE_ACTION:"TOGGLE_ACTION",SET_ACTIONS_ACTIVE:"SET_ACTIONS_ACTIVE",JUMP_TO_STATE:"JUMP_TO_STATE",IMPORT_STATE:"IMPORT_STATE"},StoreDevtoolActions={performAction:function(e){if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');return{type:ActionTypes.PERFORM_ACTION,action:e,timestamp:Date.now()}},reset:function(){return{type:ActionTypes.RESET,timestamp:Date.now()}},rollback:function(){return{type:ActionTypes.ROLLBACK,timestamp:Date.now()}},commit:function(){return{type:ActionTypes.COMMIT,timestamp:Date.now()}},sweep:function(){return{type:ActionTypes.SWEEP}},toggleAction:function(e){return{type:ActionTypes.TOGGLE_ACTION,id:e}},setActionsActive:function(e,t,n){return void 0===n&&(n=!0),{type:ActionTypes.SET_ACTIONS_ACTIVE,start:e,end:t,active:n}},jumpToState:function(e){return{type:ActionTypes.JUMP_TO_STATE,index:e}},importState:function(e){return{type:ActionTypes.IMPORT_STATE,nextLiftedState:e}}},ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core.OpaqueToken("Redux Devtools Extension"),DevtoolsExtension=function(){function DevtoolsExtension(e){this.instanceId="ngrx-store-"+Date.now(),this.devtoolsExtension=e,this.createActionStreams()}return DevtoolsExtension.prototype.notify=function(e,t){this.devtoolsExtension&&this.devtoolsExtension.send(null,t,!1,this.instanceId)},DevtoolsExtension.prototype.createChangesObservable=function(){var e=this;return this.devtoolsExtension?new rxjs_Observable.Observable(function(t){var n=e.devtoolsExtension.connect({instanceId:e.instanceId});return n.subscribe(function(e){return t.next(e)}),n.unsubscribe}):rxjs_observable_empty.empty()},DevtoolsExtension.prototype.createActionStreams=function(){var e=this,t=rxjs_operator_share.share.call(this.createChangesObservable()),n=rxjs_operator_filter.filter.call(t,function(e){return e.type===ExtensionActionTypes.START}),o=rxjs_operator_filter.filter.call(t,function(e){return e.type===ExtensionActionTypes.STOP}),r=applyOperators(t,[[rxjs_operator_filter.filter,function(e){return e.type===ExtensionActionTypes.DISPATCH}],[rxjs_operator_map.map,function(t){return e.unwrapAction(t.payload)}]]),i=applyOperators(t,[[rxjs_operator_filter.filter,function(e){return e.type===ExtensionActionTypes.ACTION}],[rxjs_operator_map.map,function(t){return e.unwrapAction(t.payload)}]]),s=rxjs_operator_takeUntil.takeUntil.call(i,o),a=rxjs_operator_takeUntil.takeUntil.call(r,o);this.actions$=rxjs_operator_switchMap.switchMap.call(n,function(){return s}),this.liftedActions$=rxjs_operator_switchMap.switchMap.call(n,function(){return a})},DevtoolsExtension.prototype.unwrapAction=function(action){return"string"==typeof action?eval("("+action+")"):action},DevtoolsExtension.decorators=[{type:_angular_core.Injectable}],DevtoolsExtension.ctorParameters=[{type:void 0,decorators:[{type:_angular_core.Inject,args:[REDUX_DEVTOOLS_EXTENSION]}]}],DevtoolsExtension}(),INIT_ACTION={type:_ngrx_store.Dispatcher.INIT},STORE_DEVTOOLS_CONFIG=new _angular_core.OpaqueToken("@ngrx/devtools Options"),__extends=function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},DevtoolsDispatcher=function(e){function DevtoolsDispatcher(){e.apply(this,arguments)}return __extends(DevtoolsDispatcher,e),DevtoolsDispatcher.decorators=[{type:_angular_core.Injectable}],DevtoolsDispatcher.ctorParameters=[],DevtoolsDispatcher}(_ngrx_store.Dispatcher),StoreDevtools=function(){function StoreDevtools(e,t,n,o,r,i){var s=liftInitialState(r,i.monitor),a=liftReducerWith(r,s,i.monitor,{maxAge:i.maxAge}),c=applyOperators(t,[[rxjs_operator_skip.skip,1],[rxjs_operator_merge.merge,o.actions$],[rxjs_operator_map.map,liftAction],[rxjs_operator_merge.merge,e,o.liftedActions$],[rxjs_operator_observeOn.observeOn,rxjs_scheduler_queue.queue]]),u=rxjs_operator_map.map.call(n,a),p=new rxjs_ReplaySubject.ReplaySubject(1),l=applyOperators(c,[[rxjs_operator_withLatestFrom.withLatestFrom,u],[rxjs_operator_scan.scan,function(e,t){var n=t[0],r=t[1],i=r(e,n);return o.notify(n,i),i},s]]).subscribe(p),f=p.asObservable(),d=rxjs_operator_map.map.call(f,unliftState);this.stateSubscription=l,this.dispatcher=e,this.liftedState=f,this.state=d}return StoreDevtools.prototype.dispatch=function(e){this.dispatcher.dispatch(e)},StoreDevtools.prototype.next=function(e){this.dispatcher.dispatch(e)},StoreDevtools.prototype.error=function(e){},StoreDevtools.prototype.complete=function(){},StoreDevtools.prototype.performAction=function(e){this.dispatch(StoreDevtoolActions.performAction(e))},StoreDevtools.prototype.reset=function(){this.dispatch(StoreDevtoolActions.reset())},StoreDevtools.prototype.rollback=function(){this.dispatch(StoreDevtoolActions.rollback())},StoreDevtools.prototype.commit=function(){this.dispatch(StoreDevtoolActions.commit())},StoreDevtools.prototype.sweep=function(){this.dispatch(StoreDevtoolActions.sweep())},StoreDevtools.prototype.toggleAction=function(e){this.dispatch(StoreDevtoolActions.toggleAction(e))},StoreDevtools.prototype.jumpToState=function(e){this.dispatch(StoreDevtoolActions.jumpToState(e))},StoreDevtools.prototype.importState=function(e){this.dispatch(StoreDevtoolActions.importState(e))},StoreDevtools.decorators=[{type:_angular_core.Injectable}],StoreDevtools.ctorParameters=[{type:DevtoolsDispatcher},{type:_ngrx_store.Dispatcher},{type:_ngrx_store.Reducer},{type:DevtoolsExtension},{type:void 0,decorators:[{type:_angular_core.Inject,args:[_ngrx_store.INITIAL_STATE]}]},{type:void 0,decorators:[{type:_angular_core.Inject,args:[STORE_DEVTOOLS_CONFIG]}]}],StoreDevtools}(),StoreDevtoolsModule=function(){function StoreDevtoolsModule(){}return StoreDevtoolsModule.instrumentStore=function(e){void 0===e&&(e={});var t={monitor:function(){return null}},n=Object.assign({},t,e);if(n.maxAge&&n.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got "+n.maxAge);return{ngModule:StoreDevtoolsModule,providers:[{provide:_ngrx_store.State,deps:[StoreDevtools],useFactory:_createState},{provide:_ngrx_store.Reducer,deps:[DevtoolsDispatcher,_ngrx_store.INITIAL_REDUCER],useFactory:_createReducer},{provide:STORE_DEVTOOLS_CONFIG,useValue:n}]}},StoreDevtoolsModule.instrumentOnlyWithExtension=function(){return{ngModule:StoreDevtoolsModule,providers:[{provide:_ngrx_store.State,deps:[REDUX_DEVTOOLS_EXTENSION,_angular_core.Injector],useFactory:_createStateIfExtension},{provide:_ngrx_store.Reducer,deps:[REDUX_DEVTOOLS_EXTENSION,_angular_core.Injector],useFactory:_createReducerIfExtension},{provide:STORE_DEVTOOLS_CONFIG,useFactory:_createExtensionOptions}]}},StoreDevtoolsModule.decorators=[{type:_angular_core.NgModule,args:[{imports:[_ngrx_store.StoreModule],providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:_createReduxDevtoolsExtension}]}]}],StoreDevtoolsModule.ctorParameters=[],StoreDevtoolsModule}();exports.StoreDevtoolsModule=StoreDevtoolsModule,exports.StoreDevtools=StoreDevtools,Object.defineProperty(exports,"__esModule",{value:!0})})},444:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(445)),__export(n(446)),__export(n(439)),__export(n(448))},445:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t);
},i=n(1),s=n(3),a=n(28),c=n(29),u=n(419),p=n(440),l=function(){function MonacoEffects(e,t){var n=this;this.actions$=e,this._request=t,this.updateIntellisense$=this.actions$.ofType(u.MonacoActionTypes.ADD_INTELLISENSE).map(function(e){return{payload:e.payload,language:e.language}}).mergeMap(function(e){var t=e.payload,o=e.language;return n._parseAndUpdate(t,o)}).map(function(e){return new u.UpdateIntellisenseSuccessAction}),this.clearUnusedIntellisense$=this.actions$.ofType(u.MonacoActionTypes.UPDATE_INTELLISENSE).map(function(e){return{payload:e.payload,language:e.language}}).map(function(e){var t=e.payload,o=e.language;return n._current.values().forEach(function(e){e.retain?e.retain=!1:(console.info(e),e.disposable.dispose(),n._current.remove(e.url))}),new u.AddIntellisenseAction(t,o)}),this._cache=new a.Storage("IntellisenseCache",a.StorageType.SessionStorage),this._current=new a.Dictionary}return MonacoEffects.prototype._parseAndUpdate=function(e,t){var n=this;return s.Observable.fromPromise(c.MonacoService.current).mergeMap(function(o,r){var i=n._determineSource(t);return n._parse(e).filter(function(e){return e&&""!==e.trim()}).mergeMap(function(e){return n._get(e)}).filter(function(e){return!(null==e)}).map(function(e){var t=n._current.get(e.url);if(null==t){var o=i.addExtraLib(e.content,e.url);t=n._current.add(e.url,{url:e.url,disposable:o,retain:!0})}else t.retain=!0;return e.url})})},MonacoEffects.prototype._parse=function(e){return s.Observable.from(e).map(function(e){if(/^@types/.test(e))return"https://unpkg.com/"+e+"/index.d.ts";if(/^dt~/.test(e)){var t=e.split("dt~")[1];return"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/"+t+"/index.d.ts"}return/\.d\.ts$/i.test(e)?/^https?:/i.test(e)?e:"https://unpkg.com/"+e:void 0}).catch(function(e){return a.Utilities.log(e),""})},MonacoEffects.prototype._get=function(e){var t=this;if(this._cache.contains(e)){var n=this._cache.get(e);return console.info("Loading from cache: "+e),s.Observable.of({url:e,content:n})}return this._request.get(e,null,c.ResponseTypes.TEXT).map(function(n){return t._cache.insert(e,n)}).map(function(t){return{content:t,url:e}}).catch(function(t){return a.Utilities.log("Couldn't load intellisense from "+e),null})},MonacoEffects.prototype._determineSource=function(e){switch(e){case"javascript":return monaco.languages.typescript.javascriptDefaults;default:return monaco.languages.typescript.typescriptDefaults}},MonacoEffects}();o([p.Effect(),r("design:type",s.Observable)],l.prototype,"updateIntellisense$",void 0),o([p.Effect(),r("design:type",s.Observable)],l.prototype,"clearUnusedIntellisense$",void 0),l=o([i.Injectable(),r("design:paramtypes",[p.Actions,c.Request])],l),t.MonacoEffects=l},446:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(28),a=n(3),c=n(49),u=n(32),p=n(29),l=n(418),f=n(440),d=n(47),h=n(447),y=function(){function SnippetEffects(e,t,n){var o=this;this.actions$=e,this._request=t,this._github=n,this._store=new s.Storage(s.Utilities.host+" Snippets"),this._defaults={id:"",gist:"",source:s.Utilities.host,author:"",name:"New Snippet",description:"",script:{content:"",language:"typescript"},style:{content:"",language:"css"},template:{content:"",language:"html"},libraries:""},this.import$=this.actions$.ofType(l.Snippet.SnippetActionTypes.IMPORT).map(function(e){return{data:e.payload,suffix:e.params}}).mergeMap(function(e){var t,n=e.data,r=e.suffix,i=o._determineImportType(n);switch(console.info("Importing "+i+" Snippet"),i){case"DEFAULT":t=o._request.local("snippets/"+s.Utilities.host.toLowerCase()+"/default.yaml",p.ResponseTypes.YAML);break;case"CUID":t=a.Observable.of(o._store.get(n));break;case"GIST":t=o._github.gist(n).map(function(e){var t=e.files["snippet.yml"];if(null==t){var r=o._upgrade(e.files);return r.description="",r.author="",r.source="",r.gist=n,r}return c.safeLoad(t.content)});break;case"URL":t=o._request.get(n,p.ResponseTypes.YAML);break;case"YAML":t=a.Observable.of(c.safeLoad(n));break;default:return}return t.catch(function(e){return s.Utilities.log(e),null}).filter(function(e){return!(null==e)}).map(function(e){return d.assign({},o._defaults,e)}).map(function(e){var t="CUID"!==i;return""===e.id&&(e.id=h()),t&&o._exists(e.name)&&(e.name=o._generateName(e.name,r)),new l.Snippet.ImportSuccessAction(e,t)})}),this.save$=this.actions$.ofType(l.Snippet.SnippetActionTypes.SAVE,l.Snippet.SnippetActionTypes.CREATE).map(function(e){return e.payload}).map(function(e){return o._validate(e),o._store.contains(e.id)?(console.info("Saving "+e.id+":"+e.name),o._store.insert(e.id,e)):(console.info("Creating "+e.id+":"+e.name),o._store.add(e.id,e)),new l.Snippet.StoreUpdated}),this.duplicate$=this.actions$.ofType(l.Snippet.SnippetActionTypes.DUPLICATE).map(function(e){return e.payload}).map(function(e){var t=o._store.get(e),n=d.assign({},o._defaults,t);return n.id=h(),n.name=o._generateName(n.name,"copy"),new l.Snippet.ImportSuccessAction(n,!0)}),this.delete$=this.actions$.ofType(l.Snippet.SnippetActionTypes.DELETE).map(function(e){return e.payload}).map(function(e){return o._store.remove(e)}).mergeMap(function(){return a.Observable.from([new l.Snippet.StoreUpdated,new l.UI.OpenMenuAction])}),this.deleteAll$=this.actions$.ofType(l.Snippet.SnippetActionTypes.DELETE_ALL).map(function(e){return o._store.clear()}).map(function(){return new l.Snippet.StoreUpdated}),this.loadSnippets$=this.actions$.ofType(l.Snippet.SnippetActionTypes.STORE_UPDATED,l.Snippet.SnippetActionTypes.LOAD_SNIPPETS).map(function(){return new l.Snippet.LoadSnippetsSuccess(o._store.values())}),this.run$=this.actions$.ofType(l.Snippet.SnippetActionTypes.RUN).map(function(e){return e.payload}).do(function(e){var t=c.safeDump(e);o._post("https://addin-playground-runner.azurewebsites.net",{snippet:t})}),this.loadTemplates$=this.actions$.ofType(l.Snippet.SnippetActionTypes.LOAD_TEMPLATES).map(function(e){return e.payload}).mergeMap(function(e){if("LOCAL"===e){var t="snippets/"+s.Utilities.host.toLowerCase()+"/templates.json";return o._request.local(t,p.ResponseTypes.JSON)}return o._request.get(e,p.ResponseTypes.JSON)}).map(function(e){return new l.Snippet.LoadTemplatesSuccess(e)})}return SnippetEffects.prototype._determineImportType=function(e){return null==e?null:"default"===e?"DEFAULT":25===e.length?"CUID":32===e.length?"GIST":/^https ? /.test(e)?"URL":"YAML"},SnippetEffects.prototype._exists=function(e){return this._store.values().some(function(t){return t.name.trim()===e.trim()})},SnippetEffects.prototype._validate=function(e){if(d.isEmpty(e))throw new u.PlaygroundError("Snippet cannot be empty");if(d.isEmpty(e.name))throw new u.PlaygroundError("Snippet name cannot be empty")},SnippetEffects.prototype._generateName=function(e,t){void 0===t&&(t="");var n=d.isEmpty(e.trim())?"New Snippet":e.trim(),o=new RegExp("^"+e),r=this._store.values().filter(function(e){return o.test(e.name.trim())}),i=d.reduce(r,function(e,t){var n=/\(?(\d+)?\)?$/.exec(t.name.trim());return e<=~~n[1]&&(e=~~n[1]+1),e},0);return""+n+(t?" - "+t:"")+(i?" - "+i:"")},SnippetEffects.prototype._upgrade=function(e){var t={script:{content:"",language:"typescript"},style:{content:"",language:"css"},template:{content:"",language:"html"},libraries:""};return d.forIn(e,function(e,n){switch(n){case"libraries.txt":t.libraries=e.content,t.libraries=t.libraries.replace(/^\/\//gm,"https://"),t.libraries=t.libraries.replace(/^#/gm,"//");break;case"app.ts":t.script.content=e.content;break;case"index.html":t.template.content=e.content;break;case"style.css":t.style.content=e.content;break;default:if(!/\.json$/.test(n))break;t.name=JSON.parse(e.content).name}}),t},SnippetEffects.prototype._post=function(e,t){var n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action",e);for(var o in t)if(t.hasOwnProperty(o)){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",o),r.setAttribute("value",t[o]),n.appendChild(r)}document.body.appendChild(n),n.submit()},SnippetEffects}();o([f.Effect(),r("design:type",a.Observable)],y.prototype,"import$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"save$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"duplicate$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"delete$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"deleteAll$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"loadSnippets$",void 0),o([f.Effect({dispatch:!1}),r("design:type",a.Observable)],y.prototype,"run$",void 0),o([f.Effect(),r("design:type",a.Observable)],y.prototype,"loadTemplates$",void 0),y=o([i.Injectable(),r("design:paramtypes",[f.Actions,p.Request,p.GitHubService])],y),t.SnippetEffects=y},447:function(e,t,n){!function(t){"use strict";var n="cuid",o=0,r=4,i=36,s=Math.pow(i,r),a=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},c=function(){return a((Math.random()*s<<0).toString(i),r)},u=function(){return o=o<s?o:0,o++,o-1},p=function(){var e,t="c",n=(new Date).getTime().toString(i),o=p.fingerprint(),s=c()+c();return e=a(u().toString(i),r),t+n+e+o+s};p.slug=function(){var e,t=(new Date).getTime().toString(36),n=p.fingerprint().slice(0,1)+p.fingerprint().slice(-1),o=c().slice(-2);return e=u().toString(36).slice(-4),t.slice(-2)+e+n+o},p.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return p.globalCount=function(){return e},e},p.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+p.globalCount().toString(36),4)},t.register?t.register(n,p):e.exports=p}(this.applitude||this)},448:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(1),s=n(3),a=n(28),c=n(29),u=n(49),p=n(422),l=n(440),f=n(449),d=function(){function GitHubEffects(e,t){var n=this;this.actions$=e,this._github=t,this.login$=this.actions$.ofType(p.GitHubActionTypes.LOGIN).mergeMap(function(){return n._github.login()}).map(function(e){return new p.LoggedInAction(e)}),this.logout$=this.actions$.ofType(p.GitHubActionTypes.LOGGED_OUT).do(function(){return n._github.logout()}),this.isLoggedIn$=this.actions$.ofType(p.GitHubActionTypes.IS_LOGGED_IN).map(function(){return n._github.profile}).filter(function(e){return!(null==e)}).map(function(e){return new p.LoggedInAction(e)}),this.shareGist$=this.actions$.ofType(p.GitHubActionTypes.SHARE_PRIVATE_GIST,p.GitHubActionTypes.SHARE_PUBLIC_GIST).filter(function(e){return n._github.profile&&e.payload}).mergeMap(function(e){var t=e.payload,o=e.type,r=t.description,i={"snippet.yaml":{content:u.safeDump(t),language:"yaml"}};return n._github.createOrUpdateGist(r,i,null,o===p.GitHubActionTypes.SHARE_PUBLIC_GIST).catch(function(e){return a.Utilities.log(e),null})}).map(function(e){return console.log(e),new p.ShareSuccessAction(e)}),this.shareCopy$=this.actions$.ofType(p.GitHubActionTypes.SHARE_COPY).map(function(e){return e.payload}).filter(function(e){return!(null==e)}).do(function(e){new f("#CopyToClipboard",{text:function(t){return u.safeDump(e)}})})}return GitHubEffects}();o([l.Effect(),r("design:type",s.Observable)],d.prototype,"login$",void 0),o([l.Effect({dispatch:!1}),r("design:type",s.Observable)],d.prototype,"logout$",void 0),o([l.Effect(),r("design:type",s.Observable)],d.prototype,"isLoggedIn$",void 0),o([l.Effect(),r("design:type",s.Observable)],d.prototype,"shareGist$",void 0),o([l.Effect({dispatch:!1}),r("design:type",s.Observable)],d.prototype,"shareCopy$",void 0),d=o([i.Injectable(),r("design:paramtypes",[l.Actions,c.GitHubService])],d),t.GitHubEffects=d},449:function(e,t,n){var o,r,i;!function(s,a){r=[e,n(450),n(452),n(453)],o=a,i="function"==typeof o?o.apply(t,r):o,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getAttributeValue(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var r=_interopRequireDefault(t),i=_interopRequireDefault(n),s=_interopRequireDefault(o),a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=function(e){function Clipboard(e,t){_classCallCheck(this,Clipboard);var n=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return _inherits(Clipboard,e),a(Clipboard,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function(e){var t=getAttributeValue("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return getAttributeValue("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),Clipboard}(i.default);e.exports=c})},450:function(e,t,n){var o,r,i;!function(s,a){r=[e,n(451)],o=a,i="function"==typeof o?o.apply(t,r):o,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=_interopRequireDefault(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function(){function ClipboardAction(e){_classCallCheck(this,ClipboardAction),this.resolveOptions(e),this.initSelection()}return r(ClipboardAction,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,o)),this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),ClipboardAction}();e.exports=i})},451:function(e,t){function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}e.exports=select},452:function(e,t){function E(){}E.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function listener(){o.off(e,listener),t.apply(n,arguments)}var o=this;return listener._=t,this.on(e,listener,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],r=[];if(o&&t)for(var i=0,s=o.length;i<s;i++)o[i].fn!==t&&o[i].fn._!==t&&r.push(o[i]);return r.length?n[e]=r:delete n[e],this}},e.exports=E},453:function(e,t,n){function listen(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return listenNode(e,t,n);if(o.nodeList(e))return listenNodeList(e,t,n);if(o.string(e))return listenSelector(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function listenNodeList(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function listenSelector(e,t,n){return r(document.body,e,t,n)}var o=n(454),r=n(455);e.exports=listen},454:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},455:function(e,t,n){function delegate(e,t,n,o,r){var i=listener.apply(this,arguments);return e.addEventListener(n,i,r),{destroy:function(){e.removeEventListener(n,i,r)}}}function listener(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}var o=n(456);e.exports=delegate},456:function(e,t){function closest(e,t){for(;e&&e.nodeType!==n;){if(e.matches(t))return e;e=e.parentNode}}var n=9;if(Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=closest},457:function(e,t){},459:457});
//# sourceMappingURL=app.js.map