language: node_js

cache:
  directories:
  - node_modules

node_js:
- 6.9.4

install:
- npm install

script:
- npm run build-dev

before_deploy:
- rimraf node_modules

deploy:
- provider: azure_web_apps
  verbose: true
  site: bornholm
  slot: bornholm-edge
  skip_cleanup: true
  on:
    branch: build